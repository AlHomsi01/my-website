<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ğŸ¯ Ù„Ø¹Ø¨Ø© ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¬Ù…Ù„</title>
<style>
body{font-family:"Cairo",sans-serif;background:#f1faee;text-align:center;padding:20px}
#wordContainer,#answerContainer{margin:20px auto;display:flex;flex-wrap:wrap;justify-content:center;min-height:50px}
.word{background:#48cae4;color:#fff;margin:5px;padding:10px 15px;border-radius:8px;cursor:pointer;transition:.3s}
.word:hover{background:#0077b6;transform:scale(1.08)}
button{margin:6px;padding:10px 18px;border:none;border-radius:10px;background:#0096c7;color:#fff;cursor:pointer}
button:hover{background:#023e8a}
#timer{margin:10px;color:#1d3557}
#score{margin-top:16px;color:#03045e}
.fade{animation:fade .4s}@keyframes fade{from{opacity:0}to{opacity:1}}
</style>
</head>
<body>
<h1>ğŸ¯ Ù„Ø¹Ø¨Ø© ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¬Ù…Ù„</h1>
<div id="timer">â±ï¸ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: <span id="timeLeft">60</span> Ø«Ø§Ù†ÙŠØ©</div>

<div id="gameArea">
  <div id="wordContainer"></div>
  <div id="answerContainer"></div>
</div>

<button onclick="checkAnswer()">âœ… ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©</button>
<button onclick="shuffleWords()">ğŸ”„ Ø£Ø¹Ø¯ Ø®Ù„Ø· Ø§Ù„ÙƒÙ„Ù…Ø§Øª</button>
<button onclick="showAnswer()">ğŸ’¡ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©</button>
<button onclick="resetGame()">ğŸ” Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©</button>

<div id="score">
  <p>Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª: âœ… <span id="successAttempts">0</span> / âŒ <span id="failedAttempts">0</span></p>
  <p>Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª: ğŸŸ¢ <span id="correctAnswers">0</span> / ğŸ”´ <span id="wrongAnswers">0</span></p>
</div>

<audio id="clapSound" src="https://www.soundjay.com/human/sounds/applause-8.mp3"></audio>
<audio id="dingSound" src="https://www.soundjay.com/button/sounds/button-16.mp3"></audio>

<script>
let sentences=[], idx=0, correctSentence="", words=[];
let successAttempts=0, failedAttempts=0, correctAnswers=0, wrongAnswers=0;
let timer=60, tHandle;

// Ladda JSON (relativt â€“ funkar pÃ¥ Pages)
fetch("./sentences.json?cb=" + Date.now())
 .then(r=>r.json())
 .then(d=>{ sentences=d.sentences||[]; start(); })
 .catch(e=>alert("Fel vid inlÃ¤sning av meningar: "+e));

function start(){ idx=0; load(); startTimer(); }
function load(){
  if(idx>=sentences.length){ alert("ğŸ‰ Ø§Ù†ØªÙ‡Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¬Ù…Ù„!"); resetGame(); return; }
  correctSentence=sentences[idx];
  words=shuffle(correctSentence.split(" "));
  render();
}
function render(){
  const wc=document.getElementById("wordContainer");
  const ac=document.getElementById("answerContainer");
  wc.innerHTML=""; ac.innerHTML="";
  words.forEach(w=>{
    const el=document.createElement("span");
    el.textContent=w; el.className="word fade";
    el.onclick=()=>ac.appendChild(el);
    wc.appendChild(el);
  });
}
function shuffle(a){return a.sort(()=>Math.random()-0.5);}
function checkAnswer(){
  const ac=document.getElementById("answerContainer");
  const ans=[...ac.children].map(e=>e.textContent).join(" ");
  if(ans===correctSentence){
    document.getElementById("clapSound").play();
    successAttempts++; correctAnswers++; idx++; load();
  }else{
    document.getElementById("dingSound").play();
    failedAttempts++; wrongAnswers++; alert("âŒ Ø®Ø·Ø£ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!");
  }
  updateScore();
}
function shuffleWords(){ load(); }
function showAnswer(){ alert("ğŸ’¡ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©:\n\n"+correctSentence); }
function resetGame(){
  successAttempts=failedAttempts=correctAnswers=wrongAnswers=0; updateScore();
  idx=0; load(); startTimer();
}
function updateScore(){
  q("successAttempts").textContent=successAttempts;
  q("failedAttempts").textContent=failedAttempts;
  q("correctAnswers").textContent=correctAnswers;
  q("wrongAnswers").textContent=wrongAnswers;
}
function q(id){return document.getElementById(id);}
function startTimer(){
  clearInterval(tHandle); let left=timer; q("timeLeft").textContent=left;
  tHandle=setInterval(()=>{ left--; q("timeLeft").textContent=left;
    if(left<=0){ clearInterval(tHandle); alert("â° Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª!"); resetGame(); }
  },1000);
}
</script>
</body>
</html>
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ğŸ¯ Ù„Ø¹Ø¨Ø© ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¬Ù…Ù„</title>
<style>
body{font-family:"Cairo",sans-serif;background:#f1faee;text-align:center;padding:20px}
#wordContainer,#answerContainer{margin:20px auto;display:flex;flex-wrap:wrap;justify-content:center;min-height:50px}
.word{background:#48cae4;color:#fff;margin:5px;padding:10px 15px;border-radius:8px;cursor:pointer;transition:.3s}
.word:hover{background:#0077b6;transform:scale(1.08)}
button{margin:6px;padding:10px 18px;border:none;border-radius:10px;background:#0096c7;color:#fff;cursor:pointer}
button:hover{background:#023e8a}
#timer{margin:10px;color:#1d3557}
#score{margin-top:16px;color:#03045e}
.fade{animation:fade .4s}@keyframes fade{from{opacity:0}to{opacity:1}}
</style>
</head>
<body>
<h1>ğŸ¯ Ù„Ø¹Ø¨Ø© ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¬Ù…Ù„</h1>
<div id="timer">â±ï¸ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: <span id="timeLeft">60</span> Ø«Ø§Ù†ÙŠØ©</div>

<div id="gameArea">
  <div id="wordContainer"></div>
  <div id="answerContainer"></div>
</div>

<button onclick="checkAnswer()">âœ… ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©</button>
<button onclick="shuffleWords()">ğŸ”„ Ø£Ø¹Ø¯ Ø®Ù„Ø· Ø§Ù„ÙƒÙ„Ù…Ø§Øª</button>
<button onclick="showAnswer()">ğŸ’¡ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©</button>
<button onclick="resetGame()">ğŸ” Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©</button>

<div id="score">
  <p>Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª: âœ… <span id="successAttempts">0</span> / âŒ <span id="failedAttempts">0</span></p>
  <p>Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª: ğŸŸ¢ <span id="correctAnswers">0</span> / ğŸ”´ <span id="wrongAnswers">0</span></p>
</div>

<audio id="clapSound" src="https://www.soundjay.com/human/sounds/applause-8.mp3"></audio>
<audio id="dingSound" src="https://www.soundjay.com/button/sounds/button-16.mp3"></audio>

<script>
let sentences=[], idx=0, correctSentence="", words=[];
let successAttempts=0, failedAttempts=0, correctAnswers=0, wrongAnswers=0;
let timer=60, tHandle;

// Ladda JSON (relativt â€“ funkar pÃ¥ Pages)
fetch("./sentences.json?cb=" + Date.now())
 .then(r=>r.json())
 .then(d=>{ sentences=d.sentences||[]; start(); })
 .catch(e=>alert("Fel vid inlÃ¤sning av meningar: "+e));

function start(){ idx=0; load(); startTimer(); }
function load(){
  if(idx>=sentences.length){ alert("ğŸ‰ Ø§Ù†ØªÙ‡Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¬Ù…Ù„!"); resetGame(); return; }
  correctSentence=sentences[idx];
  words=shuffle(correctSentence.split(" "));
  render();
}
function render(){
  const wc=document.getElementById("wordContainer");
  const ac=document.getElementById("answerContainer");
  wc.innerHTML=""; ac.innerHTML="";
  words.forEach(w=>{
    const el=document.createElement("span");
    el.textContent=w; el.className="word fade";
    el.onclick=()=>ac.appendChild(el);
    wc.appendChild(el);
  });
}
function shuffle(a){return a.sort(()=>Math.random()-0.5);}
function checkAnswer(){
  const ac=document.getElementById("answerContainer");
  const ans=[...ac.children].map(e=>e.textContent).join(" ");
  if(ans===correctSentence){
    document.getElementById("clapSound").play();
    successAttempts++; correctAnswers++; idx++; load();
  }else{
    document.getElementById("dingSound").play();
    failedAttempts++; wrongAnswers++; alert("âŒ Ø®Ø·Ø£ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!");
  }
  updateScore();
}
function shuffleWords(){ load(); }
function showAnswer(){ alert("ğŸ’¡ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©:\n\n"+correctSentence); }
function resetGame(){
  successAttempts=failedAttempts=correctAnswers=wrongAnswers=0; updateScore();
  idx=0; load(); startTimer();
}
function updateScore(){
  q("successAttempts").textContent=successAttempts;
  q("failedAttempts").textContent=failedAttempts;
  q("correctAnswers").textContent=correctAnswers;
  q("wrongAnswers").textContent=wrongAnswers;
}
function q(id){return document.getElementById(id);}
function startTimer(){
  clearInterval(tHandle); let left=timer; q("timeLeft").textContent=left;
  tHandle=setInterval(()=>{ left--; q("timeLeft").textContent=left;
    if(left<=0){ clearInterval(tHandle); alert("â° Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª!"); resetGame(); }
  },1000);
}
</script>
</body>
</html>
